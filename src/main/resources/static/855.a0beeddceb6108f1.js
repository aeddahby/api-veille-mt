"use strict";(self.webpackChunkng_veille_mt=self.webpackChunkng_veille_mt||[]).push([[855],{3855:(Z,a,r)=>{r.r(a),r.d(a,{LoginModule:()=>v});var m=r(6696),l=r(9136),t=r(2382),e=r(5e3),c=r(9199),g=r(6091),d=r(9808);const f=["username"];function p(n,u){1&n&&(e.TgZ(0,"div",15),e._uU(1,"\n        "),e.TgZ(2,"strong"),e._uU(3,"Echec de connexion!"),e.qZA(),e._uU(4," Le mot de passe ou login saisi est incorrect. Assurez-vous d\u2019avoir renseign\xe9 le bon mot de\n        passe et login.\n      "),e.qZA())}const h={path:"",component:(()=>{class n{constructor(o,i,s,U){this.accountService=o,this.loginService=i,this.router=s,this.fb=U,this.authenticationError=!1,this.loginForm=this.fb.group({username:[null,[t.kI.required]],password:[null,[t.kI.required]],rememberMe:[!1]})}ngOnInit(){this.accountService.identity().subscribe(()=>{this.accountService.isAuthenticated()&&this.router.navigate(["/ticket"])})}ngAfterViewInit(){this.username.nativeElement.focus()}login(){this.loginService.login({username:this.loginForm.get("username").value,password:this.loginForm.get("password").value,rememberMe:this.loginForm.get("rememberMe").value}).subscribe({next:()=>{this.authenticationError=!1,this.router.getCurrentNavigation()||this.router.navigate([""])},error:()=>this.authenticationError=!0})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(c.B),e.Y36(g.r),e.Y36(m.F0),e.Y36(t.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["jhi-login"]],viewQuery:function(o,i){if(1&o&&e.Gf(f,5),2&o){let s;e.iGM(s=e.CRH())&&(i.username=s.first)}},decls:49,vars:2,consts:[[1,"d-flex","justify-content-center"],[1,"col-lg-6","col-md-8","col-sm-10"],["data-cy","loginTitle"],["class","alert alert-danger","data-cy","loginError",4,"ngIf"],["role","form",1,"form",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","username",1,"username-label"],["type","text","name","username","id","username","placeholder","Your username","formControlName","username","data-cy","username",1,"form-control"],["username",""],["for","password"],["type","password","name","password","id","password","placeholder","Your password","formControlName","password","data-cy","password",1,"form-control"],[1,"form-check"],["for","rememberMe",1,"form-check-label"],["type","checkbox","name","rememberMe","id","rememberMe","formControlName","rememberMe",1,"form-check-input"],["type","submit","data-cy","submit",1,"btn","btn-primary"],["data-cy","loginError",1,"alert","alert-danger"]],template:function(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1,"\n  "),e.TgZ(2,"div",0),e._uU(3,"\n    "),e.TgZ(4,"div",1),e._uU(5,"\n      "),e.TgZ(6,"h1",2),e._uU(7,"Se connecter"),e.qZA(),e._uU(8,"\n      "),e.YNc(9,p,5,0,"div",3),e._uU(10,"\n      "),e.TgZ(11,"form",4),e.NdJ("ngSubmit",function(){return i.login()}),e._uU(12,"\n        "),e.TgZ(13,"div",5),e._uU(14,"\n          "),e.TgZ(15,"label",6),e._uU(16,"Login"),e.qZA(),e._uU(17,"\n          "),e._UZ(18,"input",7,8),e._uU(20,"\n        "),e.qZA(),e._uU(21,"\n\n        "),e.TgZ(22,"div",5),e._uU(23,"\n          "),e.TgZ(24,"label",9),e._uU(25,"Password"),e.qZA(),e._uU(26,"\n          "),e._UZ(27,"input",10),e._uU(28,"\n        "),e.qZA(),e._uU(29,"\n\n        "),e.TgZ(30,"div",11),e._uU(31,"\n          "),e.TgZ(32,"label",12),e._uU(33,"\n            "),e._UZ(34,"input",13),e._uU(35,"\n            "),e.TgZ(36,"span"),e._uU(37,"Se souvenir de moi"),e.qZA(),e._uU(38,"\n          "),e.qZA(),e._uU(39,"\n        "),e.qZA(),e._uU(40,"\n\n        "),e.TgZ(41,"button",14),e._uU(42,"Se connecter"),e.qZA(),e._uU(43,"\n      "),e.qZA(),e._uU(44,"\n      "),e._uU(45,"\n    "),e.qZA(),e._uU(46,"\n  "),e.qZA(),e._uU(47,"\n"),e.qZA(),e._uU(48,"\n")),2&o&&(e.xp6(9),e.Q6J("ngIf",i.authenticationError),e.xp6(2),e.Q6J("formGroup",i.loginForm))},directives:[d.O5,t._Y,t.JL,t.sg,t.Fj,t.JJ,t.u,t.Wl],encapsulation:2}),n})(),data:{pageTitle:""}};let v=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.m,m.Bz.forChild([h])]]}),n})()}}]);