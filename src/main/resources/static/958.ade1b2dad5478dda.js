"use strict";(self.webpackChunkng_veille_mt=self.webpackChunkng_veille_mt||[]).push([[958],{4218:(v,g,n)=>{n.d(g,{_l:()=>d,aW:()=>u,gK:()=>t,jo:()=>a});const t=20,u="asc",a="desc",d="sort"},5929:(v,g,n)=>{n.d(g,{b:()=>u});var t=n(520);const u=a=>{let d=new t.LE;return a&&(Object.keys(a).forEach(i=>{"sort"!==i&&(d=d.set(i,a[i]))}),a.sort&&a.sort.forEach(i=>{d=d.append("sort",i)})),d}},5926:(v,g,n)=>{n.d(g,{A:()=>a});var t=n(8306),u=n(5e3);let a=(()=>{class d{byteSize(l){return this.formatAsBytes(this.size(l))}openFile(l,p){p=null!=p?p:"";const c=atob(l),_=new Array(c.length);for(let h=0;h<c.length;h++)_[h]=c.charCodeAt(h);const e=new Uint8Array(_),o=new Blob([e],{type:p}),r=window.URL.createObjectURL(o);window.open(r).onload=function(){URL.revokeObjectURL(r)}}loadFileToForm(l,p,c,_){return new t.y(e=>{var o;const r=l.target;if(null===(o=null==r?void 0:r.files)||void 0===o?void 0:o[0]){const s=r.files[0];if(_&&!s.type.startsWith("image/"))e.error({message:`File was expected to be an image but was found to be '${s.type}'`,key:"not.image",params:{fileType:s.type}});else{const h=c+"ContentType";this.toBase64(s,m=>{p.patchValue({[c]:m,[h]:s.type}),e.next(),e.complete()})}}else e.error({message:"Could not extract file",key:"could.not.extract",params:{event:l}})})}toBase64(l,p){const c=new FileReader;c.onload=_=>{var e;if("string"==typeof(null===(e=_.target)||void 0===e?void 0:e.result)){const o=_.target.result.substring(_.target.result.indexOf("base64,")+7);p(o)}},c.readAsDataURL(l)}endsWith(l,p){return p.includes(l,p.length-l.length)}paddingSize(l){return this.endsWith("==",l)?2:this.endsWith("=",l)?1:0}size(l){return l.length/4*3-this.paddingSize(l)}formatAsBytes(l){return l.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" bytes"}}return d.\u0275fac=function(l){return new(l||d)},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},6037:(v,g,n)=>{function t(a){return null!=a}n.d(g,{E:()=>t,z:()=>u});const u=a=>isNaN(a)?0:a},7278:(v,g,n)=>{n.d(g,{P:()=>t,e:()=>u});class t{constructor(d,i,l,p,c){this.id=d,this.name=i,this.attachContentType=l,this.attach=p,this.ticket=c}}function u(a){return a.id}},4851:(v,g,n)=>{n.d(g,{L:()=>p});var t=n(6037),u=n(5929),a=n(7278),d=n(5e3),i=n(520),l=n(1082);let p=(()=>{class c{constructor(e,o){this.http=e,this.applicationConfigService=o,this.resourceUrl=this.applicationConfigService.getEndpointFor("api/attachments")}create(e){return this.http.post(this.resourceUrl,e,{observe:"response"})}update(e){return this.http.put(`${this.resourceUrl}/${(0,a.e)(e)}`,e,{observe:"response"})}partialUpdate(e){return this.http.patch(`${this.resourceUrl}/${(0,a.e)(e)}`,e,{observe:"response"})}find(e){return this.http.get(`${this.resourceUrl}/${e}`,{observe:"response"})}query(e){const o=(0,u.b)(e);return this.http.get(this.resourceUrl,{params:o,observe:"response"})}delete(e){return this.http.delete(`${this.resourceUrl}/${e}`,{observe:"response"})}addAttachmentToCollectionIfMissing(e,...o){const r=o.filter(t.E);if(r.length>0){const s=e.map(m=>(0,a.e)(m));return[...r.filter(m=>{const f=(0,a.e)(m);return null!=f&&!s.includes(f)&&(s.push(f),!0)}),...e]}return e}}return c.\u0275fac=function(e){return new(e||c)(d.LFG(i.eN),d.LFG(l.y))},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},6554:(v,g,n)=>{n.d(g,{w:()=>_});var t=n(4004),u=n(6948),a=n(6037),d=n(5929),i=n(7260),l=n(5e3),p=n(520),c=n(1082);let _=(()=>{class e{constructor(r,s){this.http=r,this.applicationConfigService=s,this.resourceUrl=this.applicationConfigService.getEndpointFor("api/tickets")}create(r){const s=this.convertDateFromClient(r);return this.http.post(this.resourceUrl,s,{observe:"response"}).pipe((0,t.U)(h=>this.convertDateFromServer(h)))}update(r){const s=this.convertDateFromClient(r);return this.http.put(`${this.resourceUrl}/${(0,i.s)(r)}`,s,{observe:"response"}).pipe((0,t.U)(h=>this.convertDateFromServer(h)))}partialUpdate(r){const s=this.convertDateFromClient(r);return this.http.patch(`${this.resourceUrl}/${(0,i.s)(r)}`,s,{observe:"response"}).pipe((0,t.U)(h=>this.convertDateFromServer(h)))}find(r){return this.http.get(`${this.resourceUrl}/${r}`,{observe:"response"}).pipe((0,t.U)(s=>this.convertDateFromServer(s)))}query(r){const s=(0,d.b)(r);return this.http.get(this.resourceUrl,{params:s,observe:"response"}).pipe((0,t.U)(h=>this.convertDateArrayFromServer(h)))}delete(r){return this.http.delete(`${this.resourceUrl}/${r}`,{observe:"response"})}addTicketToCollectionIfMissing(r,...s){const h=s.filter(a.E);if(h.length>0){const m=r.map(D=>(0,i.s)(D));return[...h.filter(D=>{const E=(0,i.s)(D);return null!=E&&!m.includes(E)&&(m.push(E),!0)}),...r]}return r}convertDateFromClient(r){var s,h,m;return Object.assign({},r,{creationDate:(null===(s=r.creationDate)||void 0===s?void 0:s.isValid())?r.creationDate.toJSON():void 0,modificationDate:(null===(h=r.modificationDate)||void 0===h?void 0:h.isValid())?r.modificationDate.toJSON():void 0,closedDate:(null===(m=r.closedDate)||void 0===m?void 0:m.isValid())?r.closedDate.toJSON():void 0})}convertDateFromServer(r){return r.body&&(r.body.creationDate=r.body.creationDate?(0,u.Z)(r.body.creationDate):void 0,r.body.modificationDate=r.body.modificationDate?(0,u.Z)(r.body.modificationDate):void 0,r.body.closedDate=r.body.closedDate?(0,u.Z)(r.body.closedDate):void 0),r}convertDateArrayFromServer(r){return r.body&&r.body.forEach(s=>{s.creationDate=s.creationDate?(0,u.Z)(s.creationDate):void 0,s.modificationDate=s.modificationDate?(0,u.Z)(s.modificationDate):void 0,s.closedDate=s.closedDate?(0,u.Z)(s.closedDate):void 0}),r}}return e.\u0275fac=function(r){return new(r||e)(l.LFG(p.eN),l.LFG(c.y))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},7260:(v,g,n)=>{n.d(g,{S:()=>t,s:()=>u});class t{constructor(d,i,l,p,c,_,e,o,r,s,h,m,f,D,E,C,y,A,O,T,I,B,L){var M,U,P,b;this.id=d,this.object=i,this.description=l,this.creationDate=p,this.modificationDate=c,this.closedDate=_,this.contributor=e,this.contributorVisibility=o,this.entityVisibility=r,this.directionVisibility=s,this.centralAnimator=h,this.centralRelay=m,this.regionalRelay=f,this.stateTicket=D,this.statusTicket=E,this.pertinence=C,this.directionRegionale=y,this.category=A,this.entity=O,this.attachments=T,this.attachContentType=I,this.attach=B,this.commentary=L,this.contributorVisibility=null!==(M=this.contributorVisibility)&&void 0!==M&&M,this.entityVisibility=null!==(U=this.entityVisibility)&&void 0!==U&&U,this.directionVisibility=null!==(P=this.directionVisibility)&&void 0!==P&&P,this.pertinence=null!==(b=this.pertinence)&&void 0!==b&&b}}function u(a){return a.id}},486:(v,g,n)=>{n.d(g,{A:()=>c});var t=n(5e3),u=n(4728),a=n(8821),d=n(9808),i=n(3357);function l(_,e){if(1&_){const o=t.EpF();t.TgZ(0,"ngb-alert",4),t.NdJ("closed",function(){t.CHM(o);const s=t.oxw().$implicit;return t.oxw().close(s)}),t._uU(1,"\n      "),t._UZ(2,"pre",5),t._uU(3,"\n    "),t.qZA()}if(2&_){const o=t.oxw().$implicit;t.Q6J("type",o.type),t.xp6(2),t.Q6J("innerHTML",o.message,t.oJD)}}function p(_,e){if(1&_&&(t.TgZ(0,"div",2),t._uU(1,"\n    "),t.YNc(2,l,4,2,"ngb-alert",3),t._uU(3,"\n  "),t.qZA()),2&_){const o=e.$implicit,r=t.oxw();t.Q6J("ngClass",r.setClasses(o)),t.xp6(2),t.Q6J("ngIf",o.message)}}let c=(()=>{class _{constructor(o,r){this.alertService=o,this.eventManager=r,this.alerts=[],this.errorListener=r.subscribe("ngVeilleMtApp.error",s=>{this.addErrorAlert(s.content.message)}),this.httpErrorListener=r.subscribe("ngVeilleMtApp.httpError",s=>{var h,m;const f=s.content;switch(f.status){case 0:this.addErrorAlert("Server not reachable");break;case 400:{const D=f.headers.keys();let E=null;for(const C of D)C.toLowerCase().endsWith("app-error")&&(E=f.headers.get(C));if(E)this.addErrorAlert(E);else if(""!==f.error&&f.error.fieldErrors){const C=f.error.fieldErrors;for(const y of C){["Min","Max","DecimalMin","DecimalMax"].includes(y.message)&&(y.message="Size");const A=y.field.replace(/\[\d*\]/g,"[]"),O=A.charAt(0).toUpperCase()+A.slice(1);this.addErrorAlert(`Error on field "${O}"`)}}else this.addErrorAlert(""!==f.error&&f.error.message?null!==(h=f.error.detail)&&void 0!==h?h:f.error.message:f.error);break}case 404:this.addErrorAlert("Not found");break;default:this.addErrorAlert(""!==f.error&&f.error.message?null!==(m=f.error.detail)&&void 0!==m?m:f.error.message:f.error)}})}setClasses(o){const r={"jhi-toast":Boolean(o.toast)};return o.position?Object.assign(Object.assign({},r),{[o.position]:!0}):r}ngOnDestroy(){this.eventManager.destroy(this.errorListener),this.eventManager.destroy(this.httpErrorListener)}close(o){var r;null===(r=o.close)||void 0===r||r.call(o,this.alerts)}addErrorAlert(o){this.alertService.addAlert({type:"danger",message:o},this.alerts)}}return _.\u0275fac=function(o){return new(o||_)(t.Y36(u.c),t.Y36(a.Q))},_.\u0275cmp=t.Xpm({type:_,selectors:[["jhi-alert-error"]],decls:5,vars:1,consts:[["role","alert",1,"alerts"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"type","closed",4,"ngIf"],[3,"type","closed"],[3,"innerHTML"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.YNc(2,p,4,2,"div",1),t._uU(3,"\n"),t.qZA(),t._uU(4,"\n")),2&o&&(t.xp6(2),t.Q6J("ngForOf",r.alerts))},directives:[d.sg,d.mk,d.O5,i.xm],encapsulation:2}),_})()},9003:(v,g,n)=>{n.d(g,{w:()=>p});var t=n(5e3),u=n(4728),a=n(9808),d=n(3357);function i(c,_){if(1&c){const e=t.EpF();t.TgZ(0,"ngb-alert",4),t.NdJ("closed",function(){t.CHM(e);const r=t.oxw().$implicit;return t.oxw().close(r)}),t._uU(1,"\n      "),t._UZ(2,"pre",5),t._uU(3,"\n    "),t.qZA()}if(2&c){const e=t.oxw().$implicit;t.Q6J("type",e.type),t.xp6(2),t.Q6J("innerHTML",e.message,t.oJD)}}function l(c,_){if(1&c&&(t.TgZ(0,"div",2),t._uU(1,"\n    "),t.YNc(2,i,4,2,"ngb-alert",3),t._uU(3,"\n  "),t.qZA()),2&c){const e=_.$implicit,o=t.oxw();t.Q6J("ngClass",o.setClasses(e)),t.xp6(2),t.Q6J("ngIf",e.message)}}let p=(()=>{class c{constructor(e){this.alertService=e,this.alerts=[]}ngOnInit(){this.alerts=this.alertService.get()}setClasses(e){const o={"jhi-toast":Boolean(e.toast)};return e.position?Object.assign(Object.assign({},o),{[e.position]:!0}):o}ngOnDestroy(){this.alertService.clear()}close(e){var o;null===(o=e.close)||void 0===o||o.call(e,this.alerts)}}return c.\u0275fac=function(e){return new(e||c)(t.Y36(u.c))},c.\u0275cmp=t.Xpm({type:c,selectors:[["jhi-alert"]],decls:5,vars:1,consts:[["role","alert",1,"alerts"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"type","closed",4,"ngIf"],[3,"type","closed"],[3,"innerHTML"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.YNc(2,l,4,2,"div",1),t._uU(3,"\n"),t.qZA(),t._uU(4,"\n")),2&e&&(t.xp6(2),t.Q6J("ngForOf",o.alerts))},directives:[a.sg,a.mk,a.O5,d.xm],encapsulation:2}),c})()},8133:(v,g,n)=>{n.d(g,{N:()=>u});var t=n(5e3);let u=(()=>{class a{set params(i){i.page&&void 0!==i.totalItems&&i.itemsPerPage?(this.first=(i.page-1)*i.itemsPerPage+1,this.second=i.page*i.itemsPerPage<i.totalItems?i.page*i.itemsPerPage:i.totalItems):(this.first=void 0,this.second=void 0),this.total=i.totalItems}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["jhi-item-count"]],inputs:{params:"params"},decls:4,vars:3,template:function(i,l){1&i&&(t._uU(0," "),t.TgZ(1,"div"),t._uU(2),t.qZA(),t._uU(3," ")),2&i&&(t.xp6(2),t.lnq(" ",l.first," - ",l.second," / ",l.total," element."))},encapsulation:2}),a})()},1408:(v,g,n)=>{n.d(g,{T:()=>p});var t=n(7579),u=n(2722),a=n(9444),d=n(801),i=n(5e3),l=n(1427);let p=(()=>{class c{constructor(e){this.sort=e,this.sortIcon=d.CmM,this.sortAscIcon=d.foy,this.sortDescIcon=d.u9C,this.destroy$=new t.x,e.predicateChange.pipe((0,u.R)(this.destroy$)).subscribe(()=>this.updateIconDefinition()),e.ascendingChange.pipe((0,u.R)(this.destroy$)).subscribe(()=>this.updateIconDefinition())}onClick(){this.iconComponent&&this.sort.sort(this.jhiSortBy)}ngAfterContentInit(){this.updateIconDefinition()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIconDefinition(){if(this.iconComponent){let e=this.sortIcon;this.sort.predicate===this.jhiSortBy&&(e=this.sort.ascending?this.sortAscIcon:this.sortDescIcon),this.iconComponent.icon=e.iconName,this.iconComponent.render()}}}return c.\u0275fac=function(e){return new(e||c)(i.Y36(l.b,1))},c.\u0275dir=i.lG2({type:c,selectors:[["","jhiSortBy",""]],contentQueries:function(e,o,r){if(1&e&&i.Suo(r,a.BN,5),2&e){let s;i.iGM(s=i.CRH())&&(o.iconComponent=s.first)}},hostBindings:function(e,o){1&e&&i.NdJ("click",function(){return o.onClick()})},inputs:{jhiSortBy:"jhiSortBy"}}),c})()},1427:(v,g,n)=>{n.d(g,{b:()=>u});var t=n(5e3);let u=(()=>{class a{constructor(){this.predicateChange=new t.vpe,this.ascendingChange=new t.vpe,this.sortChange=new t.vpe}get predicate(){return this._predicate}set predicate(i){this._predicate=i,this.predicateChange.emit(i)}get ascending(){return this._ascending}set ascending(i){this._ascending=i,this.ascendingChange.emit(i)}sort(i){this.ascending=i!==this.predicate||!this.ascending,this.predicate=i,this.predicateChange.emit(i),this.ascendingChange.emit(this.ascending),this.sortChange.emit({predicate:this.predicate,ascending:this.ascending})}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275dir=t.lG2({type:a,selectors:[["","jhiSort",""]],inputs:{predicate:"predicate",ascending:"ascending"},outputs:{predicateChange:"predicateChange",ascendingChange:"ascendingChange",sortChange:"sortChange"}}),a})()}}]);